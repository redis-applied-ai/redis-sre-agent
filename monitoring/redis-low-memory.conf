# Redis configuration for low memory testing scenarios
# This configuration sets up Redis with minimal memory to trigger memory pressure

# Network settings
bind 0.0.0.0
port 6379
protected-mode no

# General settings
daemonize no
loglevel notice
logfile ""

# Memory management - VERY LOW for testing
maxmemory 10mb
maxmemory-policy allkeys-lru
maxmemory-samples 5

# Disable persistence to focus on memory issues
save ""
appendonly no

# Slow log for performance monitoring
slowlog-log-slower-than 1000
slowlog-max-len 128

# Client settings
timeout 300
tcp-keepalive 300

# Monitoring and stats
latency-monitor-threshold 10

# Enable keyspace notifications for monitoring
notify-keyspace-events "Ex"

# Reduce memory usage with tighter data structure limits
hash-max-ziplist-entries 64
hash-max-ziplist-value 32
list-max-ziplist-size -1
set-max-intset-entries 64
zset-max-ziplist-entries 64
zset-max-ziplist-value 32
