[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function
asyncio_default_test_loop_scope = function
addopts = -v --tb=short --cov=redis_sre_agent --cov-report=html --cov-report=term-missing
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:redisvl
    ignore::ResourceWarning
markers =
    openai_integration: marks tests that make real OpenAI API calls (deselect with '-m "not openai_integration"')
    agent_behavior: marks tests for end-to-end agent behavior (deselect with '-m "not agent_behavior"')
    docket_integration: marks tests for Docket task system integration (deselect with '-m "not docket_integration"')
    integration: marks tests that require external services like Redis containers
